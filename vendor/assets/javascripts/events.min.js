var ev=function(n,t,e){function i(t,e){if(t&&t.nodeName||t===n)e(t);else if(t&&t.length)for(var i=0,r=t.length;r>i;i++)e(t[i])}var r={},o=0,a="e"+new Date,u=function(){return t.addEventListener?function(n,t,e){i(n,function(n){n.addEventListener(t,function(t){e.call(n,t)===!1&&(t.preventDefault(),t.stopPropagation())},!1)})}:function(t,u,c){i(t,function(t){if(null===t["on"+u])return void t.attachEvent("on"+u,function(){return c.call(t,n.event)});r[u]===e&&(r[u]={});var i=t[a]=o++;if(r[u][i]!==e){var f=r[u][i];r[u][i]=function(n){return c.call(t,n)!==!1?f():!1}}else r[u][i]=function(n){return c.call(t,n)};t=null})}}(),c=function(){return t.createEvent?function(n,e,r){i(n,function(n){var i=t.createEvent("HTMLEvents");i.initEvent(e,!0,!0),i.data=r||{},i.eventName=e,n.dispatchEvent(i)})}:function(n,t,e){i(n,function(n){try{n["on"+t].call(n,e)}catch(i){var o;do{if(o=n[a],!n||3===n.nodeType||8===n.nodeType)return;r[t][o]&&r[t][o].call(n,{type:t,data:e||{}})}while(n=n.parentNode)}})}}();return function(t){return this===n?new ev(t):(this.el=t,this.addEvent=u,void(this.fireEvent=c))}}(this,document);ev.prototype={on:function(n,t){if(void 0===t)for(var e in n)this.addEvent(this.el,e,n[e]);else this.addEvent(this.el,n,t);return this},fire:function(n){return this.fireEvent(this.el,n),this}};